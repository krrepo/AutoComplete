<!DOCTYPE html>
<html>
<head>
    <link type="text/css" rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.1/css/bootstrap.min.css"/>
    <script src="js/autocomplete.js"></script>
    <link type="text/css" rel="stylesheet" href="css/autocomplete.css"/>
</head>
<body style="padding-left:20px;padding-right:20px;">
<h1>GLG Autocomplete Example</h1>
<h2>Notes</h2>
<ul>
    <li>The service powering the autocomplete uses a patricia trie for lookups.  A separate trie is created for each entity type.</li>
    <li>This demo implements one entity type: states.</li>
</ul>

<h2>Examples</h2>
<form class="form-horizontal">
    <div class="control-group">
        <label  class="control-label" for="states" class="span4">States (Markup) &nbsp; </label>
        <input name="states_markup" id="states_markup" glg-autocomplete-entities="cm:CM" glg-autocomplete-websocket="true" glg-autocomplete-source="//localhost:8080/typeahead/trie/" glg-autocomplete-multiSelect="false">
    </div>
    <div class="control-group">
        <label class="control-label" for="states">States (Method) &nbsp; </label>
        <input name="states_method" id="states_method">
    </div>
    <div class="control-group">
        <label class="control-label" for="states">States (Multi Select) &nbsp; </label>
        <input name="states_multiselect" id="states_multiselect">
    </div>
</form>

<h2>Code</h2>
<h3>Script and css</h3>
    <p>Note: The following script and style elements need to be added to the page:</p>
<pre>&lt;script src="js/autocomplete.js">&lt;/script>
&lt;link type="text/css" rel="stylesheet" href="css/autocomplete.css"/>
</pre>

<p>Making any input an autocomplete can be done in one of two ways, (1) via method calls or (2) via markup declarations.  The first, via calling the autcomplete method:</p>
<pre>
&lt;script>
  options = [{
    'entities':{
      'org':'Organizations',
      'state':'States'
    },
    'source':'//localhost:8080/typeahead/trie/',
    'element':document.getElementById('someInputElement'),
    'updateSource'='//localhost:8080/typeahead/selected/'
  }];
  glg.autocomplete(options);
&lt;/script>
</pre>

<p>The second, via markup declarations:</p>
<pre>
&lt;input name="cm_names" id="cm_names" <strong>glg-autocomplete-entities</strong>="org:Organizations;state:States" <strong>glg-autocomplete-source</strong>="//localhost:8080/typeahead/trie/" <strong>glg-autocomplete-updateSource</strong>="//localhost:8080/typeahead/update/">
</pre>
<p>Note that there is no glg-autocomplete-element attribute in the above code, as this is implicity included.</p>

<p>To enable websocket support - set the webSocket entity to true and change source entity(ex:'source':'//localhost:8100/socket.io/1/').</p>
</body>
<script>
  options = [
  {
    'entities':{'cm':'CM'},
    'source':'//localhost:8080/typeahead/trie/',
    'element':document.getElementById('states_method'),
    'webSocket':false
  },{
    'entities':{'cm':'CM'},
    'source':'//localhost:8080/typeahead/trie/',
    'element':document.getElementById('states_multiselect'),
    //'updateSource':'//localhost:8080/typeahead/selected/',
    'multiSelect':true
  }];
  glg.autocomplete(options);
</script>
</html>
